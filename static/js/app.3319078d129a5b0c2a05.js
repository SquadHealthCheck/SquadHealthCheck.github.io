webpackJsonp([1],{"+kb4":function(t,e){},"/pts":function(t,e){},"0+5S":function(t,e){},D13A:function(t,e){},Lz0l:function(t,e){t.exports=[{icon:"fa-shopping-cart",label:"Delivering Value",description:{green:"We deliver great stuff! We're proud of it and our stakeholders are really happy.",red:"We deliver crap. We feel ashamed to deliver it. Our stakeholders hate us"}},{icon:"fa-repeat",label:"Easy to Release",description:{green:"Releasing is simple, safe, painless and mostly automated",red:"Releasing is risky, painful, lots of manual work and takes forever"}},{icon:"fa-smile-o",label:"Fun",description:{green:"We love going to work and have great fun working together!",red:"Booooooring..."}},{icon:"fa-medkit",label:"Health of Codebase",description:{green:"We're proud of the quality of our code! It is clean, easy to read and has great test coverage.",red:"Our code is a pile of dung and technical debt is raging out of control."}},{icon:"fa-graduation-cap",label:"Learning",description:{green:"We're learning lots of interesting stuff all the time!",red:"We never have time to learn anything."}},{icon:"fa-map",label:"Mission",description:{green:"We know exactly why we're here and we're really excited about it!",red:"We have no idea why we are here, there's no high level picture or focus. Our so called mission is completely unclear and uninspiring."}},{icon:"fa-play",label:"Pawns or Players",description:{green:"We are in control of our own destiny! We decide what to build and how to build it.",red:"We are just pawns in a game of chess with no influence over what we build or how we build it."}},{icon:"fa-bolt",label:"Speed",description:{green:"We get stuff done really quickly! No waiting and no delays.",red:"We never seem to get anything done. We keep getting stuck or interrupted. Stories keep getting stuck on dependencies."}},{icon:"fa-check",label:"Suitable Process",description:{green:"Our way of working fits us perfectly!",red:"Our way of working sucks!"}},{icon:"fa-life-ring",label:"Support",description:{green:"We always get great support or help when we ask for it!",red:"We keep getting stuck because we can't get the support and help that we ask for."}},{icon:"fa-users",label:"Teamwork",description:{green:"We are a totally gelled super-team with awesome collaboration!",red:"We are a bunch of individuals that neither know nor care about what the other people in the squad are doing."}}]},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),n=a("VN6J"),i=a("Xxa5"),s=a.n(i),o=a("exGp"),c=a.n(o),d=a("woOf"),l=a.n(d),u=a("+6Bu"),p=a.n(u),m=a("NYxO"),f=a("jcKD"),v=a("//Fk"),h=a.n(v),g=a("Zrlr"),b=a.n(g),j=a("wxAW"),S=a.n(j),y=a("Sazm"),w=a.n(y),C=function(){function t(){b()(this,t)}return S()(t,null,[{key:"initialiseDatabase",value:function(t){w.a.apps.length||w.a.initializeApp(t)}},{key:"_get",value:function(t){var e=w.a.database().ref(t);return new h.a(function(t,a){var r=e.once("value");_.isNil(r)?a(Error("Unable to load data.")):t(r)})}},{key:"getProjects",value:function(){return this._get("projects").then(function(t){return t.val()})}},{key:"getProject",value:function(t){return this._get("projects/"+t).then(function(t){return t.val()})}},{key:"_save",value:function(t,e){var a=w.a.database().ref(t).push(),r=a.key;return a.set(e),h.a.resolve(r)}},{key:"addProject",value:function(t){return this._save("projects",t)}},{key:"addTeamToProject",value:function(t,e){return this._save("projects/"+t+"/teams",e)}},{key:"addSprintToProject",value:function(t,e){return this._save("projects/"+t+"/sprints",e)}},{key:"addTeamToSprint",value:function(t,e,a){return this._save("projects/"+t+"/sprints/"+e+"/teams/"+a.id,a)}},{key:"_update",value:function(t,e){return w.a.database().ref(t).update(e)}},{key:"updateProject",value:function(t,e){return this._update("projects/"+t.id,_.pick(t,e))}},{key:"updateTeam",value:function(t,e,a){return this._update("projects/"+t+"/teams/"+e.id,_.pick(e,a))}},{key:"updateSprints",value:function(t,e){return this._update("projects/"+t+"/sprints",e)}},{key:"updateSprint",value:function(t,e,a){return this._update("projects/"+t+"/sprints/"+e,a)}},{key:"updateTeamsSprintData",value:function(t,e,a){return this._update("projects/"+t+"/sprints/"+e+"/teams",a.teams)}},{key:"_delete",value:function(t){return w.a.database().ref(t).remove()}},{key:"deleteProject",value:function(t){return this._delete("projects/"+t)}},{key:"deleteTeamFromProject",value:function(t,e){var a="projects/"+t+"/teams/"+e;return this._delete(a)}},{key:"deleteSprintFromProject",value:function(t,e){var a="projects/"+t+"/sprints/"+e;return this._delete(a)}},{key:"deleteTeamFromSprint",value:function(t,e,a){var r="projects/"+t+"/sprints/"+e+"/teams/"+a;return this._delete(r)}},{key:"removeSprint",value:function(t,e){var a="projects/"+t+"/sprints/"+e;return this._remove(a)}},{key:"removeTeam",value:function(t,e){var a="projects/"+t+"/teams/"+e;return this._remove(a)}},{key:"removeTeamFromSprint",value:function(t,e,a){var r="projects/"+t+"/sprints/"+e+"/teams/"+a;return this._remove(r)}}]),t}();r.default.use(m.a);new f.a({key:"vuex",storage:window.localStorage});var k=new m.a.Store({state:{projects:{},criteria:{},activeSprint:{},activeProject:{},activeTeam:{},sprintView:!0,teamView:!1},getters:{getProject:function(t){return function(e){return t.projects[e]}},getCriteria:function(t){return t.criteria},getSprint:function(t){return function(e,a){return t.projects[e].sprints[a]}},getActiveProject:function(t){return t.activeProject},getActiveTeam:function(t){return t.activeTeam},getActiveSprint:function(t){return t.activeSprint},teamView:function(t){return t.teamView},sprintView:function(t){return t.sprintView}},mutations:{initialiseProjects:function(t,e){t.projects=e},initialiseCriteria:function(t,e){t.criteria=e},addProject:function(t,e){var a=e.project,n=e.id;r.default.set(t.projects,n,a)},addTeamToProject:function(t,e){var a=t.projects,n=e.projectId,i=e.teamId,s=e.team;a[n].teams||r.default.set(a[n],"teams",{}),r.default.set(a[n].teams,i,s)},addSprintToProject:function(t,e){var a=t.projects,n=e.projectId,i=e.sprintId,s=e.sprint;a[n].sprints||r.default.set(a[n],"sprints",{}),r.default.set(a[n].sprints,i,s)},updateProject:function(t,e){r.default.set(t.projects,e.id,_.omit(e,"id"))},updateTeam:function(t,e){var a=e.projectId,n=e.team;r.default.set(t.projects[a].teams,n.id,_.omit(n,"id"))},updateSprints:function(t,e){var a=e.projectId,n=e.sprints;r.default.set(t.projects[a],"sprints",n)},updateSprint:function(t,e){var a=e.projectId,n=e.sprintId,i=e.sprint;r.default.set(t.projects[a].sprints,n,i)},updateTeamsSprintData:function(t,e){var a=e.projectId,n=p()(e,["projectId"]);r.default.set(t.projects[a].sprints[n.sprintId].teams,n.teams)},updateCurrentSprint:function(t,e){var a=e.projectId,n=e.sprintId,i=e.sprint;r.default.set(t.projects[a].sprints[n],i)},setActiveProject:function(t,e){r.default.set(t,"activeProject",e)},setActiveTeam:function(t,e){r.default.set(t,"activeTeam",e)},setActiveSprint:function(t,e){r.default.set(t,"activeSprint",e)},deleteProject:function(t,e){r.default.delete(t.projects,e)},deleteTeamFromProject:function(t,e){var a=e.projectId,n=e.teamId;r.default.delete(t.projects[a].teams,n)},deleteSprintFromProject:function(t,e){var a=e.projectId,n=e.sprintId;r.default.delete(t.projects[a].sprints,n)},deleteTeamFromSprint:function(t,e){var a=e.projectId,n=e.sprintId,i=e.teamId;r.default.delete(t.projects[a].sprints[n].teams,i)},resetStore:function(t){l()(t,{projects:{},criteria:{},activeSprint:{},activeProject:{},activeTeam:{}})},toggleTeamView:function(t){t.teamView||(t.teamView=!t.teamView,t.sprintView=!1)},toggleSprintView:function(t){t.sprintView||(t.sprintView=!t.sprintView,t.teamView=!1)}},actions:{loadProjects:function(t){var e=this;return c()(s.a.mark(function a(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getProjects().then(function(e){t.commit("initialiseProjects",e||{})});case 2:case"end":return e.stop()}},a,e)}))()},loadProject:function(t,e){var a=e.projectId;return C.getProject(a).then(function(e){e.id=a,t.commit("updateProject",e)})},addProject:function(t,e){var a=this;return c()(s.a.mark(function r(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.addProject(e).then(function(a){t.commit("addProject",{project:e,id:a})});case 2:case"end":return a.stop()}},r,a)}))()},updateProject:function(t,e){var a=this,r=e.keys,n=p()(e,["keys"]);return c()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.updateProject(n,r).then(function(){return t.commit("updateProject",n)});case 2:case"end":return e.stop()}},e,a)}))()},deleteProject:function(t,e){var a=this;return c()(s.a.mark(function r(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.deleteProject(e).then(function(){return t.commit("deleteProject",e)});case 2:case"end":return a.stop()}},r,a)}))()},addTeamToProject:function(t,e){var a=this,r=e.projectId,n=e.team;return c()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.addTeamToProject(r,n).then(function(e){return t.commit("addTeamToProject",{projectId:r,teamId:e,team:n}),e}));case 1:case"end":return e.stop()}},e,a)}))()},updateSprint:function(t,e){var a=e.projectId,r=e.sprintId,n=e.sprint;return C.updateSprint(a,r,n).then(function(){t.commit("updateSprint",{projectId:a,sprintId:r,sprint:n})})},updateSprints:function(t,e){var a=e.projectId,r=e.sprints;return C.updateSprints(a,r).then(function(){t.commit("updateSprints",{projectId:a,sprints:r})})},updateTeam:function(t,e){var a=this,r=e.keys,n=e.projectId,i=p()(e,["keys","projectId"]);return c()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.updateTeam(n,i,r).then(function(){return t.commit("updateTeam",{projectId:n,team:i})});case 2:case"end":return e.stop()}},e,a)}))()},addSprintToProject:function(t,e){var a=this,r=e.projectId,n=e.sprint;return c()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:C.addSprintToProject(r,n).then(function(e){t.commit("addSprintToProject",{projectId:r,sprintId:e,sprint:n})});case 1:case"end":return e.stop()}},e,a)}))()},deleteTeamFromProject:function(t,e){var a=this,r=e.projectId,n=e.teamId;e.sprints;return c()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.deleteTeamFromProject(r,n).then(function(){t.commit("deleteTeamFromProject",{projectId:r,teamId:n})});case 2:case"end":return e.stop()}},e,a)}))()},deleteTeamFromSprint:function(t,e){var a=e.projectId,r=e.sprintId,n=e.teamId;return C.deleteTeamFromSprint(a,r,n).then(function(){t.commit("deleteTeamFromSprint",{projectId:a,sprintId:r,teamId:n})})},deleteSprintFromProject:function(t,e){var a=e.projectId,r=e.sprintId;C.deleteSprintFromProject(a,r).then(function(){return t.commit("deleteSprintFromProject",{projectId:a,sprintId:r})})},updateTeamsSprintData:function(t,e){var a=e.projectId,r=e.sprintId,n=e.sprint;C.updateTeamsSprintData(a,r,n)}},plugins:[(new f.a).plugin]}),T=a("/ocq"),P=a("Dd8w"),I=a.n(P),x=a("bOdI"),D=a.n(x),$=a("oqQY"),N=a.n($),E={name:"DataListItem",props:{item:{type:Object,required:!0},fields:{type:Array,required:!0},itemId:{type:String,required:!0},actions:{type:Array,required:!1},showIcon:{type:Boolean,required:!1},color:{type:String,required:!1}},data:function(){return{}},computed:{icon:function(){if(this.item.name.length<2)return this.item.name;var t=this.item.name.split(" ",2);return t.length<2?this.item.name.substring(0,2).toUpperCase():t[0].charAt(0).toUpperCase()+t[1].charAt(0).toUpperCase()}},methods:{iconColor:function(t){return{background:t}},isDate:function(t){return RegExp(/^\d{4}-\d{2}-\d{2}$/).test(t)},formatDate:function(t){return N()(t).format("DD MMM YYYY")},setCssProperty:function(t,e){var r=a("YrBu");return e?D()({},t,e):D()({},t,r(this.color).setAlpha(.5))}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"data-list-item"},[a("div",{staticClass:"data-list-view"},[t.item.name?a("div",{staticClass:"data-list-view__icon",style:t.setCssProperty("background",t.item.color)},[t._v("\n      "+t._s(t.icon)+"\n    ")]):t._e(),t._v(" "),a("div",{staticClass:"field-list"},t._l(t.fields,function(e){return a("div",{key:e.field,staticClass:"field-list__item"},[e.visible&&!t.isDate(t.item[e.field])?a("span",[t._v("\n          "+t._s(t.item[e.field]||"-")+"\n        ")]):t._e(),t._v(" "),e.visible&&t.isDate(t.item[e.field])?a("span",[t._v("\n          "+t._s(t.formatDate(t.item[e.field]))+"\n        ")]):t._e()])}),0),t._v(" "),t.actions?a("ul",{staticClass:"action-list",on:{click:function(t){t.stopPropagation()}}},t._l(t.actions,function(e,r){return a("li",{key:r,staticClass:"action-list__item"},[a("button",{staticClass:"button",class:e.class,attrs:{id:"button-"+e.type+t.itemId},on:{click:function(a){e.action(e,t.item,t.itemId)}}},[a("span",[t._v(t._s(e.name))]),t._v(" "),a("i")])])}),0):t._e()])])},staticRenderFns:[]};var F={name:"DataList",components:{DataListItem:a("VU/8")(E,A,!1,function(t){a("QBdf")},"data-v-2d827e1e",null).exports},props:{dataList:{required:!0},fields:{type:Array,required:!0},actions:{type:Array,required:!1},showIcon:{type:Boolean,required:!1,default:!1},showKeys:{type:Boolean,required:!1,default:!1},color:{type:String,required:!1,default:"#CCCCCC"}},methods:{setCssProperty:function(t,e){var r=a("YrBu")(this.color);return r.setAlpha(.5),D()({},t,r)}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[t.showKeys?a("div",{staticClass:"keys",style:t.setCssProperty("background",this.color)},t._l(t.fields,function(e){var r=e.label;return a("span",{key:r,staticClass:"key"},[t._v("\n      "+t._s(r)+"\n    ")])}),0):t._e(),t._v(" "),a("ul",{staticClass:"data-list"},t._l(t.dataList,function(e,r){return a("data-list-item",{key:r,attrs:{item:e,fields:t.fields,itemId:r,actions:t.actions,showIcon:t.showIcon,color:t.color,id:"data-list-item-"+r},nativeOn:{click:function(e){t.$emit("onClick",r)}}})}),1)])},staticRenderFns:[]};var V=a("VU/8")(F,M,!1,function(t){a("pDnF")},"data-v-32fd7a0f",null).exports,U=a("WEHx"),q={name:"Modal",mixins:[U.mixin],props:{showModal:{type:Boolean},title:{type:String,required:!0},actions:{type:Array,required:!1}},methods:{close:function(){this.$emit("close")}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.close,expression:"close"}],staticClass:"modal-content"},[a("header",{staticClass:"modal__header"},[a("h3",{staticClass:"modal__title"},[t._v(t._s(t.title))]),t._v(" "),a("span",{staticClass:"btn--close",on:{click:t.close}},[t._v("\n        Ã—\n      ")]),t._v(" "),t._t("header")],2),t._v(" "),a("section",{staticClass:"modal__body"},[t._t("body")],2),t._v(" "),a("footer",{staticClass:"modal__footer"},[a("div",{staticClass:"modal__buttons"},[t.actions?t._e():t._t("buttons"),t._v(" "),a("button",{staticClass:"btn--secondary btn--cancel",on:{click:t.close}},[t._v("\n          Cancel\n        ")])],2)])])])},staticRenderFns:[]};var B=a("VU/8")(q,R,!1,function(t){a("0+5S")},null,null).exports,L=function(t){return new RegExp(/^(?![ \d])(?:[a-zA-Z\d ']+)$/).test(t)},O=function(t){return 0===t.length},W={name:"Dashboard",components:{DataList:V,Modal:B},data:function(){return{fields:[{field:"name",visible:!0},{field:"color",visible:!1}],newProject:{name:"",color:"#cccccc"},modals:{add:!1,edit:!1,delete:!1}}},computed:{actions:function(){return[{type:"edit",name:"Edit",action:this.openModal,class:"btn--outlined"},{type:"delete",name:"Delete",action:this.openModal,class:"btn--danger"}]},projects:function(){return this.$store.state.projects},selectedProject:function(){return this.$store.getters.getActiveProject},validProject:function(){var t=this;return function(e){return!t.projectExists(e)&&!O(e.name)&&L(e.name)}}},created:function(){var t=localStorage.getItem("firebaseConfig");t=JSON.parse(t);var e=!1;for(var a in t)null!==t[a]&&""!=t[a]&&(e=!0);t&&e&&this.$store.dispatch("loadProjects")},methods:{openProject:function(t){this.$router.push({name:"ManageProject",params:{id:t}})},openModal:function(t,e,a){var r=t.type;this.modals[r]=!0,e.id=a,this.$store.commit("setActiveProject",_.clone(e))},hasProjects:function(){return!_.isEmpty(this.projects)},projectExists:function(t){var e=this.projects;return t.id&&(e=_.omit(e,t.id)),_.find(e,{name:t.name})},addProject:function(){this.$store.dispatch("addProject",this.newProject),this.newProject={name:"",color:"#cccccc"},this.modals.add=!1},updateProject:function(){var t=_.map(this.fields,function(t){return t.field});this.$store.dispatch("updateProject",I()({},this.selectedProject,{keys:t})),this.modals.edit=!1},deleteProject:function(){this.$store.dispatch("deleteProject",this.selectedProject.id),this.modals.delete=!1}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("header",{staticClass:"header"},[a("h2",[t._v("Dashboard")]),t._v(" "),a("ul",{staticClass:"action-bar"},[a("li",{staticClass:"action-bar__item"},[a("button",{staticClass:"btn--primary",on:{click:function(e){t.modals.add=!0}}},[t._v("\n          New Project\n        ")])])])]),t._v(" "),t.hasProjects()?t._e():a("section",{staticClass:"no-data no-data--projects"},[a("p",[a("a",{staticClass:"no-data__link",on:{click:function(e){t.modals.add=!0}}},[t._v("\n        Add a project\n      ")]),t._v("\n      to get started.\n    ")])]),t._v(" "),t.hasProjects()?a("data-list",{attrs:{dataList:t.projects,fields:t.fields,actions:t.actions},on:{onClick:t.openProject}}):t._e(),t._v(" "),t.modals.add?a("Modal",{attrs:{title:"Add Project"},on:{close:function(e){t.modals.add=!1}}},[a("div",{attrs:{slot:"body"},slot:"body"},[a("form",{attrs:{id:"form-add-project"},on:{submit:function(e){return e.preventDefault(),t.addProject(e)}}},[a("div",[a("label",{attrs:{for:"projectName"}},[t._v("Project name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newProject.name,expression:"newProject.name",modifiers:{trim:!0}}],attrs:{type:"text",name:"projectName",id:"input_add-project-name"},domProps:{value:t.newProject.name},on:{input:function(e){e.target.composing||t.$set(t.newProject,"name",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",[a("label",{attrs:{for:"projectColor"}},[t._v("Project colour")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newProject.color,expression:"newProject.color"}],staticClass:"project-color",attrs:{type:"color",name:"projectColor",value:"#CCCCCC",id:"input_add-project-color"},domProps:{value:t.newProject.color},on:{input:function(e){e.target.composing||t.$set(t.newProject,"color",e.target.value)}}})])]),t._v(" "),t.projectExists(t.newProject)?a("div",{staticClass:"error"},[a("p",{staticClass:"error__text"},[t._v("This project already exists.")])]):t._e()]),t._v(" "),a("div",{attrs:{slot:"buttons"},slot:"buttons"},[a("button",{staticClass:"button btn--primary",attrs:{disabled:!t.validProject(t.newProject),id:"btn_add-project"},on:{click:function(e){t.addProject()}}},[t._v("\n        Save\n      ")])])]):t._e(),t._v(" "),t.modals.edit?a("Modal",{attrs:{title:"Edit Project"},on:{close:function(e){t.modals.edit=!1}}},[a("div",{attrs:{slot:"body"},slot:"body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateProject(e)}}},[a("div",[a("label",{attrs:{for:"projectName"}},[t._v("Project name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.selectedProject.name,expression:"selectedProject.name",modifiers:{trim:!0}}],attrs:{type:"text",name:"projectName",id:"input_edit-project-name"},domProps:{value:t.selectedProject.name},on:{input:function(e){e.target.composing||t.$set(t.selectedProject,"name",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",[a("label",{attrs:{for:"projectColor"}},[t._v("Project colour")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.selectedProject.color,expression:"selectedProject.color",modifiers:{trim:!0}}],staticClass:"project-color",attrs:{type:"color",name:"projectColor",id:"input_edit-project-color"},domProps:{value:t.selectedProject.color},on:{input:function(e){e.target.composing||t.$set(t.selectedProject,"color",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),t.projectExists(t.selectedProject)?a("div",{staticClass:"error"},[a("p",{staticClass:"error__text"},[t._v("This project already exists.")])]):t._e()]),t._v(" "),a("div",{attrs:{slot:"buttons"},slot:"buttons"},[a("button",{staticClass:"button btn--primary",attrs:{disabled:!t.validProject(t.selectedProject),id:"btn_update-project"},on:{click:function(e){t.updateProject()}}},[t._v("\n        Save\n      ")])])]):t._e(),t._v(" "),t.modals.delete?a("Modal",{attrs:{title:"Delete Project"},on:{close:function(e){t.modals.delete=!1}}},[a("div",{staticClass:"text--danger",attrs:{slot:"header"},slot:"header"}),t._v(" "),a("div",{attrs:{slot:"body"},slot:"body"},[a("p",{staticClass:"text-center"},[t._v("\n        Are you sure you want to delete this project? "),a("br"),a("br"),t._v(" "),a("b",[t._v("All team and sprint data will be lost permanently.")])])]),t._v(" "),a("div",{attrs:{slot:"buttons"},slot:"buttons"},[a("button",{staticClass:"button btn--danger",attrs:{id:"btn_delete-project"},on:{click:function(e){t.deleteProject()}}},[t._v("\n        Delete\n      ")])])]):t._e()],1)},staticRenderFns:[]};var H=a("VU/8")(W,K,!1,function(t){a("tszA")},"data-v-31d51d92",null).exports,Y=a("mvHQ"),J=a.n(Y),z={name:"ManageConfig",components:{},data:function(){return{firebaseConfig:(t=localStorage.getItem("firebaseConfig"),t&&(t=JSON.parse(t)),t||{apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:""})};var t},computed:{},created:function(){},methods:{updateFirebase:function(){localStorage.removeItem("firebaseConfig"),this.$store.commit("resetStore"),C.initialiseDatabase(this.firebaseConfig),localStorage.setItem("firebaseConfig",J()(this.firebaseConfig))}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"firebase-config"},[a("div",{staticClass:"config"},[a("h1",[t._v("Firebase configuration")]),t._v(" "),a("div",[a("div",[a("span",[a("p",{attrs:{for:"apiKey"}},[t._v("API Key:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firebaseConfig.apiKey,expression:"firebaseConfig.apiKey"}],attrs:{type:"text",name:"apiKey",id:"apiKey"},domProps:{value:t.firebaseConfig.apiKey},on:{input:function(e){e.target.composing||t.$set(t.firebaseConfig,"apiKey",e.target.value)}}})]),t._v(" "),a("span",[a("p",{attrs:{for:"authDomain"}},[t._v("Auth Domain:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firebaseConfig.authDomain,expression:"firebaseConfig.authDomain"}],attrs:{type:"text",name:"authDomain",id:"authDomain"},domProps:{value:t.firebaseConfig.authDomain},on:{input:function(e){e.target.composing||t.$set(t.firebaseConfig,"authDomain",e.target.value)}}})]),t._v(" "),a("span",[a("p",{attrs:{for:"databaseURL"}},[t._v("Database URL:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firebaseConfig.databaseURL,expression:"firebaseConfig.databaseURL"}],attrs:{type:"text",name:"databaseURL",id:"databaseURL"},domProps:{value:t.firebaseConfig.databaseURL},on:{input:function(e){e.target.composing||t.$set(t.firebaseConfig,"databaseURL",e.target.value)}}})]),t._v(" "),a("span",[a("p",{attrs:{for:"projectId"}},[t._v("Project ID:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firebaseConfig.projectId,expression:"firebaseConfig.projectId"}],attrs:{type:"text",name:"projectId",id:"projectId"},domProps:{value:t.firebaseConfig.projectId},on:{input:function(e){e.target.composing||t.$set(t.firebaseConfig,"projectId",e.target.value)}}})]),t._v(" "),a("span",[a("p",{attrs:{for:"storageBucket"}},[t._v("Storage Bucket:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firebaseConfig.storageBucket,expression:"firebaseConfig.storageBucket"}],attrs:{type:"text",name:"storageBucket",id:"storageBucket"},domProps:{value:t.firebaseConfig.storageBucket},on:{input:function(e){e.target.composing||t.$set(t.firebaseConfig,"storageBucket",e.target.value)}}})]),t._v(" "),a("span",[a("p",{attrs:{for:"messagingSenderId"}},[t._v("Messaging Sender ID:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firebaseConfig.messagingSenderId,expression:"firebaseConfig.messagingSenderId"}],attrs:{type:"text",name:"messagingSenderId",id:"messagingSenderId"},domProps:{value:t.firebaseConfig.messagingSenderId},on:{input:function(e){e.target.composing||t.$set(t.firebaseConfig,"messagingSenderId",e.target.value)}}})])]),t._v(" "),a("button",{staticClass:"btn--primary fb-update-btn",on:{click:function(e){t.updateFirebase()}}},[t._v("\n      Update\n    ")])])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"guide"},[a("h3",[t._v("Step 1: Create your Firebase project")]),t._v(" "),a("ol",[a("li",[t._v("Sign up to firebase (If already have an account skip to step 1.2).")]),t._v(" "),a("li",[t._v("In the Firebase console located "),a("a",{attrs:{href:"https://console.firebase.google.com"}},[t._v("here")]),t._v(", select "),a("strong",[t._v("Add project")]),t._v(", (If you already have a project skip to step 2.1).")]),t._v(" "),a("li",[t._v("Follow all the steps on the pop up and choose the appropriate options for your project.")])]),t._v(" "),a("h3",[t._v("Step 2: Register your App")]),t._v(" "),a("ol",[a("li",[t._v("Under the project name click the icon that looks like: '"),a("strong",[t._v("</>")]),t._v("'")]),t._v(" "),a("li",[t._v("Then enter an app name and tick the 'Firebase Hosting' checkbox and then select the project you created earlier in the dropdown (if not already selected).")]),t._v(" "),a("li",[t._v("In the second, third and fouth steps, ignore these and continue using the 'Next'/'Continue to console' buttons.")]),t._v(" "),a("li",[t._v("You should go back to the previously screen, if not select the 'Project Overview' from the lefthand side.")])]),t._v(" "),a("h3",[t._v("Step 3: Add Firebase SDKs and initialize Firebase")]),t._v(" "),a("ol",[a("li",[t._v("Select the App button from the overlay, select the config cog icon next to the app we created earlier.")]),t._v(" "),a("li",[t._v("If you scroll down to the 'Your apps' section within the 'Firebase SDK snippet' select the radio button 'Config'.")]),t._v(" "),a("li",[t._v("From here copy and paste the values into the Squad health check firebase config page matching up the values with the names.")]),t._v(" "),a("li",[t._v("Lastly activate the 'Update' button and then you can start using the Squad Health Check tool.")])]),t._v(" "),a("h3",[t._v("Step 4: Set read and write permissions on the database")]),t._v(" "),a("ol",[a("li",[t._v("In the firebase console click on your project.")]),t._v(" "),a("li",[t._v("In the side menu on the left, click "),a("strong",[t._v("Database")]),t._v(".")]),t._v(" "),a("li",[t._v("In the JSON object on the screen, ensure read and write are both set to true.")])]),t._v(" "),a("p",[t._v("For more detailed instructions on how to set up your Firebase project, please visit the Firebase help centre "),a("a",{attrs:{href:"https://firebase.google.com/docs/web/setup?authuser=0"}},[t._v("here")]),t._v(".")])])}]};var Q=a("VU/8")(z,G,!1,function(t){a("emOc")},"data-v-cb01a726",null).exports,X={name:"DropdownMenuButton",props:{text:{type:String,required:!0}}},Z={render:function(){var t=this.$createElement;return(this._self._c||t)("button",[this._v("\n  "+this._s(this.text)+"\n")])},staticRenderFns:[]};var tt=a("VU/8")(X,Z,!1,function(t){a("c+kn")},null,null).exports,et={name:"DropdownMenu",mixins:[U.mixin],props:{title:{type:String,required:!0}},data:function(){return{showItems:!1}},methods:{closeMenu:function(){this.showItems=!1}}},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.closeMenu,expression:"closeMenu"}],staticClass:"dropdown"},[a("div",{staticClass:"dropdown__title",class:{"dropdown--active":t.showItems},on:{click:function(e){t.showItems=!t.showItems}}},[a("i",{staticClass:"icon icon--options fa fa-cog"}),t._v(" "),a("span",[t._v(t._s(t.title))]),t._v(" "),a("i",{staticClass:"icon icon--arrow_down fa fa-angle-down"})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showItems,expression:"showItems"}],class:["dropdown__items",{"dropdown__items--active":t.showItems}]},[t._t("default")],2)])},staticRenderFns:[]};var rt={name:"ProjectHeader",components:{DropdownMenu:a("VU/8")(et,at,!1,function(t){a("ajd9")},null,null).exports,DropdownMenuButton:tt,Modal:B},data:function(){return{showDeleteModal:!1,showEditModal:!1,newProjectName:""}},computed:{project:function(){return this.$store.getters.getProject(this.$route.params.id)},deleteActions:function(){return[{name:"Delete",class:"btn--primary btn--danger",action:this.deleteProject}]},editActions:function(){return[{name:"Update",class:"btn--primary",action:this.editProject}]},teamView:function(){return this.$store.getters.teamView},sprintView:function(){return this.$store.getters.sprintView}},methods:{projectColor:function(t){return D()({},t,this.project.color)},toggleTeamView:function(){this.$store.commit("toggleTeamView")},toggleSprintView:function(){this.$store.commit("toggleSprintView")}}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("h2",{staticClass:"project-title",style:t.projectColor("color")},[t._v(t._s(t.project.name))]),t._v(" "),a("ul",{staticClass:"project-nav"},[a("li",{staticClass:"project-nav__item"},[a("router-link",{attrs:{to:"health"}},[a("i",{staticClass:"fa fa-heartbeat icon--action"}),t._v(" "),a("span",[t._v("TEAM HEALTH")])])],1),t._v(" "),a("li",{staticClass:"project-nav__item"},[a("router-link",{attrs:{to:"teams"}},[a("i",{staticClass:"fa fa-user icon--action"}),t._v(" "),a("span",[t._v("TEAMS")])])],1),t._v(" "),a("li",{staticClass:"project-nav__item"},[a("router-link",{attrs:{to:"sprints"}},[a("i",{staticClass:"fa fa-repeat icon--action"}),t._v(" "),a("span",[t._v("SPRINTS")])])],1)]),t._v(" "),a("ul",{staticClass:"health-check-toolbar"},[a("li",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:{content:"Team view",classes:"tooltip",delay:500},expression:"{ content: 'Team view', classes: 'tooltip', delay: 500 }",modifiers:{bottom:!0}}],staticClass:"health-check-toolbar__item",class:{"health-check-toolbar__item--active":t.teamView},on:{click:t.toggleTeamView}},[a("i",{staticClass:"fa fa-user health-check-toolbar__icon icon--large"})]),t._v(" "),a("li",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:{content:"Sprint view",classes:"tooltip",delay:500},expression:"{ content: 'Sprint view', classes: 'tooltip', delay: 500 }",modifiers:{bottom:!0}}],staticClass:"health-check-toolbar__item",class:{"health-check-toolbar__item--active":t.sprintView},on:{click:t.toggleSprintView}},[a("i",{staticClass:"fa fa-repeat health-check-toolbar__icon icon--large"})])])])},staticRenderFns:[]};var it=a("VU/8")(rt,nt,!1,function(t){a("bE2S")},"data-v-f9d5cc5e",null).exports,st=a("Lz0l"),ot=a.n(st),ct={name:"ManageProject",components:{ProjectHeader:it},data:function(){return{criteria:[]}},computed:{project:function(){return this.$store.getters.getProject(this.$route.params.id)},latestSprint:function(){return _.findLast(_.orderBy(this.project.sprints,"sprintNumber","asc"))}},created:function(){this.$store.commit("initialiseCriteria",ot.a)},mounted:function(){this.$router.push({name:"ManageTeamHealth"})},methods:{closeProjectTab:function(){this.$emit("closeTab",{id:this.$route.params.id})},addSprint:function(){var t=this,e={teams:[]};_.forEach(this.project.teams,function(a){_.forEach(t.criteria,function(t){e.teams[a][t]={value:0}})})},getCriteria:function(){var t=this;C.getCriteria().then(function(e){return t.criteria=e})},reset:function(){this.sprints=JSON.parse(sessionStorage.getItem(this.project.id+".sprints"))},updateTeams:function(t){this.project.teams||(this.project.teams=[]);var e=_.camelCase(t);this.project.teams[e]=t},hasProjectData:function(){return!_.isEmpty(this.project.teams)&&!_.isEmpty(this.project.sprints)}}},dt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",[this.project?e("ProjectHeader"):this._e(),this._v(" "),e("router-view"),this._v(" "),e("router-view",{attrs:{name:"ManageTeams"}}),this._v(" "),e("router-view",{attrs:{name:"manageSprints"}})],1)},staticRenderFns:[]},lt=a("VU/8")(ct,dt,!1,null,null,null).exports,ut=a("8Up+"),pt=a.n(ut),mt={name:"ManageTeams",components:{DataList:V,Modal:B},data:function(){return{fields:[{field:"name",visible:"true"}],newTeam:{name:""},modals:{edit:!1,delete:!1}}},computed:{actions:function(){return[{type:"edit",name:"Edit",action:this.openModal,class:"btn--outlined"},{type:"delete",name:"Delete",action:this.openModal,class:"btn--danger"}]},criteria:function(){return this.$store.getters.getCriteria},project:function(){return this.$store.getters.getProject(this.$route.params.id)},selectedTeam:function(){return this.$store.getters.getActiveTeam},validTeam:function(){var t=this;return function(e){return!t.teamExists(e)&&!O(e.name)&&L(e.name)}}},methods:{openModal:function(t,e,a){this.modals[t.type]=!0,e.id=a,this.$store.commit("setActiveTeam",_.clone(e))},_addTeamToSprints:function(t){var e=this;_.forEach(this.project.sprints,function(a){a.teams||(a.teams={}),a.teams[t]=e._defaultSprintData()})},_deleteTeamFromSprints:function(t){_.forEach(this.project.sprints,function(e){e.teams&&r.default.delete(e.teams,t)})},_defaultSprintData:function(){var t=this.criteria.map(function(t){return{criteria:t.label,value:0}});return pt()(t,0,11)},addTeamToProject:function(){var t=this;return c()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.validTeam(t.newTeam)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$store.dispatch("addTeamToProject",{projectId:t.$route.params.id,team:t.newTeam});case 4:if(a=e.sent,!t.project.sprints){e.next=10;break}return t._addTeamToSprints(a),e.next=9,t.$store.dispatch("updateSprints",{projectId:t.$route.params.id,sprints:t.project.sprints});case 9:t.$store.dispatch("loadProject",{projectId:t.$route.params.id});case 10:t.newTeam={name:""};case 11:case"end":return e.stop()}},e,t)}))()},updateTeam:function(){this.$store.dispatch("updateTeam",I()({projectId:this.$route.params.id},this.selectedTeam,{keys:this.keys})),this.modals.edit=!1},deleteTeam:function(){this.$store.dispatch("deleteTeamFromProject",{projectId:this.$route.params.id,teamId:this.selectedTeam.id,sprints:this.project.sprints}),this._deleteTeamFromSprints(this.selectedTeam.id),this.$store.dispatch("updateSprints",{projectId:this.$route.params.id,sprints:this.project.sprints}),this.modals.delete=!1},teamExists:function(t){return _.find(this.project.teams,{name:t.name})},hasTeams:function(){return!_.isEmpty(this.project.teams)}}},ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[t.hasTeams()?a("data-list",{attrs:{dataList:t.project.teams,fields:t.fields,actions:t.actions,color:this.project.color}}):t._e(),t._v(" "),a("section",{staticClass:"add-team"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addTeamToProject(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newTeam.name,expression:"newTeam.name",modifiers:{trim:!0}}],attrs:{type:"text",name:"teamname",placeholder:"Enter a new team name",id:"team-name-input",required:""},domProps:{value:t.newTeam.name},on:{input:function(e){e.target.composing||t.$set(t.newTeam,"name",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),t.teamExists(t.newTeam)?a("div",{staticClass:"error"},[a("p",{staticClass:"error__text"},[t._v("This team already exists.")])]):t._e(),t._v(" "),t.teamExists(t.newTeam)?t._e():a("button",{staticClass:"btn--primary",attrs:{disabled:!t.validTeam(t.newTeam)},on:{click:function(e){t.addTeamToProject()}}},[t._v("\n      Add Team\n    ")])]),t._v(" "),t.modals.edit?a("Modal",{attrs:{title:"Edit Team"},on:{close:function(e){t.modals.edit=!1}}},[a("div",{attrs:{slot:"body"},slot:"body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateTeam(e)}}},[a("label",{attrs:{for:"teamName"}},[t._v("Team Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.selectedTeam.name,expression:"selectedTeam.name",modifiers:{trim:!0}}],attrs:{type:"text",name:"teamName"},domProps:{value:t.selectedTeam.name},on:{input:function(e){e.target.composing||t.$set(t.selectedTeam,"name",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("div",{attrs:{slot:"buttons"},slot:"buttons"},[a("button",{staticClass:"button btn--primary",attrs:{disabled:!t.validTeam(t.selectedTeam)},on:{click:function(e){t.updateTeam()}}},[t._v("\n        Save\n      ")])])]):t._e(),t._v(" "),t.modals.delete?a("Modal",{attrs:{title:"Delete Team"},on:{close:function(e){t.modals.delete=!1}}},[a("div",{staticClass:"text--danger",attrs:{slot:"header"},slot:"header"}),t._v(" "),a("div",{attrs:{slot:"body"},slot:"body"},[a("p",{staticClass:"text-center"},[t._v("\n        Are you sure you want to delete this team? "),a("br"),a("br"),t._v(" "),a("b",[t._v("All team data will be lost permanently.")])])]),t._v(" "),a("div",{attrs:{slot:"buttons"},slot:"buttons"},[a("button",{staticClass:"button btn--danger",on:{click:function(e){t.deleteTeam()}}},[t._v("\n        Delete\n      ")])])]):t._e()],1)},staticRenderFns:[]};var vt=a("VU/8")(mt,ft,!1,function(t){a("pNX/")},"data-v-71606959",null).exports,ht={name:"ManageSprints",components:{DataList:V,Modal:B},data:function(){return{fields:[{field:"sprintNumber",label:"Sprint",visible:!0},{field:"startDate",label:"Start date",visible:!0},{field:"endDate",label:"End date",visible:!0}],newSprint:{sprintNumber:""},modals:{edit:!1,delete:!1}}},computed:{actions:function(){return[{type:"edit",name:"Edit",action:this.openModal,class:"btn--outlined"},{type:"delete",name:"Delete",action:this.openModal,class:"btn--danger"}]},criteria:function(){return this.$store.getters.getCriteria},project:function(){return this.$store.getters.getProject(this.$route.params.id)},selectedSprint:function(){return this.$store.getters.getActiveSprint},validSprint:function(){var t=this;return function(e){return!t.sprintExists(e)&&!O(e.sprintNumber)&&t.hasValidDates()}}},methods:{_addTeamsToSprint:function(){var t=this;this.newSprint.teams={},this.project.teams&&_.forEach(this.project.teams,function(e,a){t.newSprint.teams[a]=t._defaultSprintData()})},_defaultSprintData:function(){var t=this.criteria.map(function(t){return{criteria:t.label,value:0}});return pt()(t,0,11)},addSprint:function(){this._addTeamsToSprint(),this.$store.dispatch("addSprintToProject",{projectId:this.$route.params.id,sprint:this.newSprint}),this.$store.dispatch("loadProject",{projectId:this.$route.params.id}),this.newSprint={sprintNumber:""}},deleteSprint:function(){this.$store.dispatch("deleteSprintFromProject",{projectId:this.$route.params.id,sprintId:this.selectedSprint.id}),this.modals.delete=!1},updateSprint:function(){this.$store.dispatch("updateSprint",{projectId:this.$route.params.id,sprintId:this.selectedSprint.id,sprint:this.selectedSprint}),this.modals.edit=!1},openModal:function(t,e,a){this.modals[t.type]=!0,e.id=a,this.$store.commit("setActiveSprint",_.clone(e))},sprintExists:function(t){var e=this.project.sprints;return t.id&&(e=_.omit(e,t.id)),_.find(e,{sprintNumber:t.sprintNumber})},hasSprints:function(){return!_.isEmpty(this.project.sprints)},hasValidDates:function(){return!0}}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[t.hasSprints()?a("data-list",{attrs:{dataList:t.project.sprints,fields:t.fields,actions:t.actions,showKeys:!0,color:this.project.color}}):t._e(),t._v(" "),a("section",{staticClass:"add-sprint"},[a("form",{on:{submit:function(e){e.preventDefault(),t.addSprint()}}},[a("div",{staticClass:"field"},[t.hasSprints()?t._e():a("label",{attrs:{for:"sprintNumber"}},[t._v("Sprint number")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newSprint.sprintNumber,expression:"newSprint.sprintNumber"}],attrs:{type:"number",min:0,name:"sprintNumber",id:"add-sprint-sprintNumber"},domProps:{value:t.newSprint.sprintNumber},on:{input:function(e){e.target.composing||t.$set(t.newSprint,"sprintNumber",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"field"},[t.hasSprints()?t._e():a("label",{attrs:{for:"sprintNumber"}},[t._v("Start date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newSprint.startDate,expression:"newSprint.startDate"}],attrs:{type:"date",name:"startDate",id:"add-sprint-startDate"},domProps:{value:t.newSprint.startDate},on:{input:function(e){e.target.composing||t.$set(t.newSprint,"startDate",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"field"},[t.hasSprints()?t._e():a("label",{attrs:{for:"endDate"}},[t._v("End date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newSprint.endDate,expression:"newSprint.endDate"}],attrs:{type:"date",name:"endDate",id:"add-sprint-endDate"},domProps:{value:t.newSprint.endDate},on:{input:function(e){e.target.composing||t.$set(t.newSprint,"endDate",e.target.value)}}})])]),t._v(" "),a("button",{staticClass:"btn--primary",attrs:{disabled:!t.validSprint(t.newSprint),id:"add-sprint-save"},on:{click:function(e){t.addSprint()}}},[t._v("Add Sprint")])]),t._v(" "),t.modals.edit?a("Modal",{attrs:{title:"Edit Sprint"},on:{close:function(e){t.modals.edit=!1}}},[a("div",{attrs:{slot:"body"},slot:"body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateSprint(e)}}},[a("div",{staticClass:"edit-field"},[a("label",{attrs:{for:"teamName"}},[t._v("Sprint number")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedSprint.sprintNumber,expression:"selectedSprint.sprintNumber"}],attrs:{type:"number",name:"startDate",min:"0",id:"edit-sprint-sprintNumber"},domProps:{value:t.selectedSprint.sprintNumber},on:{input:function(e){e.target.composing||t.$set(t.selectedSprint,"sprintNumber",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"edit-field"},[a("label",{attrs:{for:"startDate"}},[t._v("Start date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedSprint.startDate,expression:"selectedSprint.startDate"}],attrs:{type:"date",name:"startDate",id:"edit-sprint-startDate"},domProps:{value:t.selectedSprint.startDate},on:{input:function(e){e.target.composing||t.$set(t.selectedSprint,"startDate",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"edit-field"},[a("label",{attrs:{for:"startDate"}},[t._v("End date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedSprint.endDate,expression:"selectedSprint.endDate"}],attrs:{type:"date",name:"endDate",id:"edit-sprint-endDate"},domProps:{value:t.selectedSprint.endDate},on:{input:function(e){e.target.composing||t.$set(t.selectedSprint,"endDate",e.target.value)}}})])])]),t._v(" "),a("div",{attrs:{slot:"buttons"},slot:"buttons"},[a("button",{staticClass:"button btn--primary",attrs:{disabled:!t.validSprint(t.selectedSprint),id:"edit-sprint-save"},on:{click:function(e){t.updateSprint()}}},[t._v("Save")])])]):t._e(),t._v(" "),t.modals.delete?a("Modal",{attrs:{title:"Delete Sprint"},on:{close:function(e){t.modals.delete=!1}}},[a("div",{staticClass:"text--danger",attrs:{slot:"header"},slot:"header"}),t._v(" "),a("div",{attrs:{slot:"body"},slot:"body"},[a("p",{staticClass:"text-center"},[t._v("Are you sure you want to delete this sprint?\n        "),a("br"),t._v(" "),a("br"),t._v(" "),a("b",[t._v("All team data will be lost permanently.")])])]),t._v(" "),a("div",{attrs:{slot:"buttons"},slot:"buttons"},[a("button",{staticClass:"button btn--danger",attrs:{id:"delete-sprint"},on:{click:function(e){t.deleteSprint()}}},[t._v("Delete")])])]):t._e()],1)},staticRenderFns:[]};var gt=a("VU/8")(ht,_t,!1,function(t){a("bl1y")},"data-v-5be05788",null).exports,bt={EMPTY:0,RED:1,AMBER:2,GREEN:3},jt=(Array(11).fill(0),{name:"TeamStatus",data:function(){return{STATUS:bt}},props:{status:{type:Number,required:!1,default:0},statusChange:{type:Number,required:!1,default:0}},computed:{hasIncreased:function(){return 1===this.statusChange},hasDecreased:function(){return-1===this.statusChange}}}),St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"status__container"},[a("span",{staticClass:"status",class:{empty:t.status===t.STATUS.EMPTY,red:t.status===t.STATUS.RED,amber:t.status===t.STATUS.AMBER,green:t.status===t.STATUS.GREEN}},[t.hasIncreased?a("i",{staticClass:"status__arrow fa fa-arrow-up"}):t._e(),t._v(" "),t.hasDecreased?a("i",{staticClass:"status__arrow fa fa-arrow-down"}):t._e()])])},staticRenderFns:[]};var yt=a("VU/8")(jt,St,!1,function(t){a("D13A")},null,null).exports,wt={name:"TeamView",components:{TeamStatus:yt},props:{criteria:{type:Array,required:!0,default:[]},teams:{type:Array,required:!0,default:{}},sprints:{type:Array,required:!0,default:[]},config:{type:Object,required:!1,default:function(){}},reset:{type:Function,required:!1,default:function(){}},selectSprint:{type:Function,required:!1,default:function(){}},selectedTeamId:{type:String,required:!1,default:function(){}},getStatusChange:{type:Function,required:!1,default:function(){}}},data:function(){return{currentTeamId:null,hasChanged:!1}},computed:{currentTeam:{get:function(){return this.teams?this.getTeamById(this.currentTeamId):null},set:function(t){this.currentTeamId=this.getTeamById(t.id).id}},displayedSprints:function(){return this.sprints.length<5?this.sprints:this.sprints.slice(-5)}},created:function(){this.selectedTeamId?this.currentTeam=this.getTeamById(this.selectedTeamId):this.teams.length&&(this.currentTeam=this.teams[0])},methods:{setCssProperty:function(t){var e=a("YrBu")(this.config.color);return e.setAlpha(.5),D()({},t,e)},getTeamById:function(t){return this.teams.find(function(e){return e.id===t})},onSelectStatus:function(t,e,a){var r=this.sprints.find(function(e){return e.id===t}),n=r.teams[e][a].value,i=void 0;i=n===bt.GREEN?bt.EMPTY:n+1,r.teams[e][a].value=i,this.hasChanged=!0},save:function(){var t=this.sprints.reduce(function(t,e){return t[e.id]=_.omit(e,"id"),t},{});this.$store.dispatch("updateSprints",{projectId:this.$route.params.id,sprints:t}),this.hasChanged=!1}}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"project-health"},[a("div",{staticClass:"project-health__content"},[a("table",{staticClass:"health-check__table"},[a("thead",{style:this.setCssProperty("background")},[a("tr",{staticClass:"health-check__headings"},[a("th",{staticClass:"health-check__team-selection"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentTeam,expression:"currentTeam"}],staticClass:"team-selection",attrs:{name:"teams",id:"select-current-team"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.currentTeam=e.target.multiple?a:a[0]}}},t._l(t.teams,function(e){return a("option",{key:e.id,attrs:{id:"health-check_team-"+e.name},domProps:{value:e}},[t._v(t._s(e.name))])}),0)]),t._v(" "),t._l(t.displayedSprints,function(e){return a("th",{key:e.id,staticClass:"health-check__header",attrs:{id:"health-check_sprint-"+e.id},on:{click:function(a){t.selectSprint(e.id)}}},[t._v(t._s("Sprint "+e.sprintNumber))])}),t._v(" "),a("th",{staticClass:"empty"})],2)]),t._v(" "),a("tbody",t._l(t.criteria,function(e,r){return a("tr",{key:e.id,staticClass:"health-check__row"},[a("td",{staticClass:"tooltip-target health-check__criteria"},[a("v-popover",{attrs:{offset:"16"}},[a("i",{staticClass:"fa icon icon--criteria",class:e.icon}),t._v(" "),a("span",[t._v(t._s(e.label))]),t._v(" "),a("template",{staticClass:"popover__criteria",slot:"popover"},[a("div",{staticClass:"popover__criteria"},[a("h4",[t._v(t._s(e.label))]),t._v(" "),a("div",{staticClass:"criteria"},[a("TeamStatus",{attrs:{status:3}}),t._v(" "),a("p",[t._v(t._s(e.description.green))])],1),t._v(" "),a("div",{staticClass:"criteria"},[a("TeamStatus",{attrs:{status:1}}),t._v(" "),a("p",[t._v(t._s(e.description.red))])],1)])])],2)],1),t._v(" "),t._l(t.displayedSprints,function(n){return a("td",{key:n.id,staticClass:"health-check__status"},[a("TeamStatus",{attrs:{status:n.teams[t.currentTeam.id][r].value,statusChange:t.getStatusChange(n,t.currentTeam.id,r),id:"team-"+t.currentTeam.name+"-sprint-"+n.sprintNumber+"-"+e.id},nativeOn:{click:function(e){t.onSelectStatus(n.id,t.currentTeam.id,r)}}})],1)}),t._v(" "),a("td",{staticClass:"empty"})],2)}),0)]),t._v(" "),a("div",{staticClass:"health-check__footer"},[a("button",{staticClass:"btn--primary",attrs:{disabled:!t.hasChanged},on:{click:t.save}},[t._v("Save")]),t._v(" "),a("button",{staticClass:"btn--secondary",attrs:{disabled:!t.hasChanged},on:{click:t.reset}},[t._v("Reset")])])])])},staticRenderFns:[]};var kt=a("VU/8")(wt,Ct,!1,function(t){a("+kb4")},null,null).exports,Tt={name:"SprintView",components:{TeamStatus:yt},props:{criteria:{type:Array,required:!0,default:[]},teams:{type:Array,required:!0,default:{}},sprints:{type:Array,required:!0,default:[]},config:{type:Object,required:!1,default:function(){}},reset:{type:Function,required:!1,default:function(){}},selectTeam:{type:Function,required:!1,default:function(){}},selectedSprintId:{type:String,required:!1,default:null},getStatusChange:{type:Function,required:!1,default:function(){}}},data:function(){return{currentSprintId:null,hasChanged:!1}},computed:{currentSprint:{get:function(){return this.sprints?this.getSprintById(this.currentSprintId):null},set:function(t){this.currentSprintId=this.getSprintById(t.id).id}}},created:function(){this.selectedSprintId?this.currentSprint=this.getSprintById(this.selectedSprintId):this.sprints.length&&(this.currentSprint=_.findLast(this.sprints))},watch:{currentSprint:function(t){sessionStorage.setItem("sprint_backup",J()(t))}},methods:{setCssProperty:function(t){var e=a("YrBu")(this.config.color);return e.setAlpha(.5),D()({},t,e)},getSprintId:function(t){return _.find(this.sprints,function(e){return e.id===t.id}).id},getSprintById:function(t){return this.sprints.find(function(e){return e.id===t})},onSelectStatus:function(t,e,a){var r=this.currentSprint.teams[e][a].value,n=void 0;n=r===bt.GREEN?bt.EMPTY:r+1,this.currentSprint.teams[e][a].value=n,this.hasChanged=!0},save:function(){this.$store.dispatch("updateTeamsSprintData",{projectId:this.$route.params.id,sprintId:this.currentSprint.id,sprint:this.currentSprint}),this.hasChanged=!1}}},Pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.sprints.length&&t.currentSprint?a("section",{staticClass:"project-health"},[a("div",{staticClass:"project-health__content"},[a("table",{staticClass:"health-check__table"},[a("thead",{style:this.setCssProperty("background")},[a("tr",{staticClass:"health-check__headings"},[a("th",{staticClass:"health-check__sprint-selection"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentSprint,expression:"currentSprint"}],staticClass:"sprint-selection",attrs:{name:"sprints",id:"select-current-sprint"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.currentSprint=e.target.multiple?a:a[0]}}},t._l(t.sprints,function(e){return a("option",{key:e.id,attrs:{id:"health-check_sprint-"+e.sprintNumber},domProps:{value:e}},[t._v("Sprint "+t._s(e.sprintNumber))])}),0)]),t._v(" "),t._l(t.teams,function(e){return a("th",{key:e.id,staticClass:"health-check__header",attrs:{id:"health-check_team-"+e.id},on:{click:function(a){t.selectTeam(e.id)}}},[t._v(t._s(e.name))])}),t._v(" "),a("th",{staticClass:"empty"})],2)]),t._v(" "),a("tbody",t._l(t.criteria,function(e,r){return a("tr",{key:e.id,staticClass:"health-check__row"},[a("td",{staticClass:"tooltip-target health-check__criteria"},[a("v-popover",{attrs:{offset:"16"}},[a("i",{staticClass:"fa icon icon--criteria",class:e.icon}),t._v(" "),a("span",[t._v(t._s(e.label))]),t._v(" "),a("template",{staticClass:"popover__criteria",slot:"popover"},[a("div",{staticClass:"popover__criteria"},[a("h4",[t._v(t._s(e.label))]),t._v(" "),a("div",{staticClass:"criteria"},[a("TeamStatus",{attrs:{status:3}}),t._v(" "),a("p",[t._v(t._s(e.description.green))])],1),t._v(" "),a("div",{staticClass:"criteria"},[a("TeamStatus",{attrs:{status:1}}),t._v(" "),a("p",[t._v(t._s(e.description.red))])],1)])])],2)],1),t._v(" "),t._l(t.teams,function(n){return a("td",{key:n.id,staticClass:"health-check__status"},[a("TeamStatus",{attrs:{status:t.currentSprint.teams[n.id][r].value,statusChange:t.getStatusChange(t.currentSprint,n.id,r),id:"sprint"+t.currentSprint.sprintNumber+"-"+n.name+"-"+e.id},nativeOn:{click:function(e){t.onSelectStatus(t.currentSprint.id,n.id,r)}}})],1)}),t._v(" "),a("td",{staticClass:"empty"})],2)}),0)]),t._v(" "),a("div",{staticClass:"health-check__footer"},[a("button",{staticClass:"btn--primary",attrs:{disabled:!t.hasChanged},on:{click:t.save}},[t._v("Save")]),t._v(" "),a("button",{staticClass:"btn--secondary",attrs:{disabled:!t.hasChanged},on:{click:t.reset}},[t._v("Reset")])])])]):t._e()},staticRenderFns:[]};var It={name:"ManageTeamHealth",components:{TeamView:kt,SprintView:a("VU/8")(Tt,Pt,!1,function(t){a("OyKF")},null,null).exports,TeamStatus:yt},data:function(){return{hasChanged:!1,selectedSprintId:null,selectedTeamId:null}},computed:{criteria:function(){return _.map(this.$store.getters.getCriteria,function(t){return I()({id:_.camelCase(t.label)},t)})},project:function(){return this.$store.getters.getProject(this.$route.params.id)},sprints:function(){var t=_.map(this.project.sprints,function(t,e){return I()({id:e},t)});return _.orderBy(t,function(t){return t.sprintNumber},["asc"])},teams:function(){return _.map(this.project.teams,function(t,e){return I()({id:e},t)})},config:function(){return{color:this.project.color}},sprintView:function(){return this.$store.getters.sprintView},teamView:function(){return this.$store.getters.teamView}},created:function(){sessionStorage.setItem("sprints",J()(this.sprints))},methods:{setCssProperty:function(t){var e=a("YrBu")(this.project.color);return e.setAlpha(.5),D()({},t,e)},reset:function(){var t=JSON.parse(sessionStorage.getItem("sprints")).reduce(function(t,e){return t[e.id]=_.omit(e,"id"),t},{});this.$store.commit("updateSprints",{projectId:this.$route.params.id,sprints:t}),this.hasChanged=!1},selectSprint:function(t){this.selectedSprintId=t,this.$store.commit("toggleSprintView")},selectTeam:function(t){this.selectedTeamId=t,this.$store.commit("toggleTeamView")},getStatusChange:function(t,e,a){if(t&&0===t.sprintNumber)return 0;var r=t.sprintNumber-1,n=this.sprints.find(function(t){return t.sprintNumber===r.toString()});if(n){var i=t.teams[e][a].value,s=n.teams[e][a].value;if(0===s||0===i)return 0;if(i>s)return 1;if(i<s)return-1}return 0},hasProjectData:function(){return!_.isEmpty(this.project.teams)&&!_.isEmpty(this.project.sprints)}}},xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[t.sprintView?a("div",[a("SprintView",{attrs:{criteria:t.criteria,teams:t.teams,sprints:t.sprints,config:t.config,reset:t.reset,selectTeam:t.selectTeam,selectedSprintId:t.selectedSprintId,getStatusChange:t.getStatusChange}})],1):t.teamView?a("div",[a("TeamView",{attrs:{criteria:t.criteria,teams:t.teams,sprints:t.sprints,config:t.config,reset:t.reset,selectSprint:t.selectSprint,selectedTeamId:t.selectedTeamId,getStatusChange:t.getStatusChange}})],1):t._e(),t._v(" "),t.hasProjectData()?t._e():a("div",{staticClass:"grid__item no-data"},[a("p",[t._v("\n      Add a\n      "),a("router-link",{staticClass:"no-data__link",attrs:{to:{name:"ManageTeams"}}},[t._v("teamÂ ")]),t._v("and a\n      "),a("router-link",{staticClass:"no-data__link",attrs:{to:{name:"ManageSprints"}}},[t._v("sprintÂ ")]),t._v("to get started.\n    ")],1)])])},staticRenderFns:[]};var Dt=a("VU/8")(It,xt,!1,function(t){a("ywpp")},null,null).exports;r.default.use(T.a);var $t=new T.a({mode:"history",linkActiveClass:"",linkExactActiveClass:"tab__link--active",routes:[{path:"/",name:"Dashboard",component:H},{path:"/project/:id",name:"ManageProject",components:{default:lt,manageTeams:vt},children:[{path:"health",name:"ManageTeamHealth",component:Dt},{path:"teams",name:"ManageTeams",component:vt},{path:"sprints",name:"ManageSprints",component:gt}]},{path:"firebaseConfig",name:"ManageConfig",component:Q}]}),Nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"app-header"},[e("router-link",{attrs:{to:{name:"Dashboard"}}},[e("div",{staticClass:"app-logo"},[e("i",{staticClass:"fa fa-heartbeat"})]),this._v(" "),e("h1",[this._v("Squad Health Check")])]),this._v(" "),e("nav",{staticClass:"site-nav"},[e("ul",[e("li",[e("router-link",{staticClass:"site-nav__link",attrs:{to:{name:"Dashboard"}}},[this._v("My Projects")])],1),this._v(" "),e("li",[e("router-link",{staticClass:"site-nav__link",attrs:{to:{name:"ManageConfig"}}},[this._v("Firebase Config")])],1)])])],1)},staticRenderFns:[]};var Et=a("VU/8")({name:"AppHeader"},Nt,!1,function(t){a("/pts")},null,null).exports,At=(a("asJK"),{name:"App",components:{AppHeader:Et},store:k,created:function(){var t=JSON.parse(localStorage.getItem("firebaseConfig")),e=!1;for(var a in t)_.isNil(t[a])||_.isEmpty(t[a])||(e=!0);t&&e?C.initialiseDatabase(t):(this.$store.commit("resetStore"),this.$router.push({name:"ManageConfig"}))}}),Ft={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"container"},[e("app-header"),this._v(" "),e("main",[e("router-view")],1)],1)])},staticRenderFns:[]};var Mt=a("VU/8")(At,Ft,!1,function(t){a("n8Bk")},null,null).exports;a("M4fF");r.default.use(n.a),r.default.config.productionTip=!1,new r.default({el:"#app",router:$t,template:"<App/>",store:k,components:{App:Mt}})},OyKF:function(t,e){},QBdf:function(t,e){},ajd9:function(t,e){},asJK:function(t,e){},bE2S:function(t,e){},bl1y:function(t,e){},"c+kn":function(t,e){},emOc:function(t,e){},n8Bk:function(t,e){},pDnF:function(t,e){},"pNX/":function(t,e){},tszA:function(t,e){},ywpp:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3319078d129a5b0c2a05.js.map